<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIOps Flow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* --- 1. General Styles --- */
        body {
            font-family: 'Inter', sans-serif;
            /* Using the background from your original code */
            background-color: #111827; /* Dark Background (Gray-900) */
            color: #d1d5db; /* Default light text (Gray-300) */
            overflow-x: hidden;
            /* Removed min-height to match original */
        }

        /* --- 2. Layout Styles --- */
        .main-container {
            /* Kept original padding/gap */
        }

        .sources-section {
             background-color: #212530; /* Darker Gray (Gray-800) */
             /*border: 1px solid #374151; /* Gray-700 border */
             
        }
        .outcomes-section {
            /*background-color: #1f2937;   /*Darker Gray (Gray-800) */
            /* Removed border and backdrop-filter to match original */
        }
        .diagram-section {
            /* Kept original */
        }

        /* --- 3. Diagram Component Styles --- */

        /* Keyframes for moving block with trail animation */
       

        /* Keyframes for Node Glow (from original) - BASE GLOW */
        @keyframes pulseNodeGlow {
            0%, 100% { box-shadow: 0 0 6px 1px rgba(96, 165, 250, 0.3); } /* Reduced intensity */
            50% { box-shadow: 0 0 10px 2px rgba(96, 165, 250, 0.5); } /* Reduced intensity */
        }
        /* Subtle floating animation for logo cloud */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }

        /* Line Styles */
        .line {
            position: absolute;
            transform-origin: 0 0;
            z-index: 0;
            /* Base line color - darker gray */
            background-color: #6b7280; /* Gray-500 */
            overflow: hidden; /* Important to clip the gradient */
            border-radius: 2px; /* Adjusted radius for thinner line */
        }
        .line::after { /* Animated block with trail element */
            content: none;
            
        }

        .line-horizontal {
            height: 2px; /* Made thinner */
        }

        .line-vertical {
            width: 2px; /* Made thinner */
        }



        /* Nodes (Using original styles + modifications for activation) */
        .node-container {
            position: absolute;
            z-index: 1;
            display: flex;
            flex-direction: column; /* Stack image and label */
            align-items: center;
            cursor: pointer;
            width: 90px; /* Adjust width to fit label */
        }
        .node-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            display: block;
            /* Added transition for smooth activation effect */
            transition: transform 0.3s ease-in-out, box-shadow 0.4s ease-in-out;
            margin-bottom: 4px;
            border-radius: 50%;
            /* Base glow animation */
            animation: pulseNodeGlow 3s infinite ease-in-out;
            /* Base shadow - slightly less intense than pulse peak */
            box-shadow: 0 0 6px 1px rgba(96, 165, 250, 0.3);
        }
        .node-label {
            font-size: 0.8rem;
            font-weight: 500;
            color: #e5e7eb;
            text-align: center;
            margin-top: 2px;
            transition: color 0.3s ease-in-out; /* Smooth color transition */
        }

        /* Style for the currently active node */
        .node-active .node-image {
            /* Override base animation */
            animation: none;
            /* Apply a stronger, brighter glow */
            box-shadow: 0 0 25px 8px rgba(255, 255, 255, 0.9), /* Bright white outer glow */
                        0 0 10px 4px rgba(96, 165, 250, 0.7); /* Inner blue glow */
            transform: scale(1.15); /* Slightly larger when active */
        }
         .node-active .node-label {
             color: #ffffff; /* Brighter label when active */
             font-weight: 600;
         }


        .node-container:hover .node-image {
             transform: scale(1.1);
             /* Keep base glow animation paused on hover if not active */
             /* animation-play-state: paused; */
             box-shadow: 0 0 20px 5px rgba(96, 165, 250, 0.7);
         }
         /* Ensure hover doesn't override active state */
         .node-active:hover .node-image {
             transform: scale(1.15); /* Keep active scale */
             box-shadow: 0 0 25px 8px rgba(255, 255, 255, 0.9),
                         0 0 10px 4px rgba(96, 165, 250, 0.7); /* Keep active glow */
         }


        /* Popups (Using original styles) */
        .popup {
            display: none;
            position: absolute;
            bottom: calc(100% + 15px);
            left: 50%;
            transform: translateX(-50%);
            width: 250px;
            background-color: #374151;
            color: #d1d5db;
            padding: 12px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            font-size: 0.875rem;
            line-height: 1.25rem;
            z-index: 10;
            text-align: left;
            font-weight: normal;
            border: 1px solid #4b5563;
        }
        .popup a { color: #60a5fa; }
        .popup a:hover { text-decoration: underline; }

        .popup::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #374151 transparent transparent transparent;
        }
        .popup-bottom {
            bottom: auto;
            top: calc(100% + 15px);
        }
        .popup-bottom::after {
            top: auto;
            bottom: 100%;
            border-color: transparent transparent #374151 transparent;
        }
        .node-container:hover .popup {
            display: block;
        }

        /* --- 4. Logo Cloud Styles (Using original styles + float animation) --- */
        #logo-cloud-wrapper .logo-container {
            position: relative;
            width: 22vw;
            height: 35vh;
            max-width: 800px;
            max-height: 500px;
            margin: 2rem auto;
        }
        #logo-cloud-wrapper .logo-card {
            position: absolute;
            background-color: #374151; /* Darker card */
            border-radius: 0.75rem;
            padding: 1rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            width: 4rem;
            height: 4rem;
            z-index: 1;
             transition: transform 0.2s ease-in-out;
             animation: float 6s ease-in-out infinite;
        }
        #logo-cloud-wrapper #splunk { animation-delay: 0s; }
        #logo-cloud-wrapper #pagerduty { animation-delay: -1s; }
        #logo-cloud-wrapper #azure { animation-delay: -2s; }
        #logo-cloud-wrapper #databricks { animation-delay: -3s; }
        #logo-cloud-wrapper #confluence { animation-delay: -4s; }
        #logo-cloud-wrapper #google-drive { animation-delay: -0.5s; }
        #logo-cloud-wrapper #github { animation-delay: -1.5s; }
        #logo-cloud-wrapper #slack { animation-delay: -2.5s; }

         #logo-cloud-wrapper .logo-card:hover {
             transform: scale(1.1);
             animation-play-state: paused;
         }
        #logo-cloud-wrapper .logo-icon {
            font-size: 1.75rem;
            color: #d1d5db;
        }
        #logo-cloud-wrapper .fa-github { color: #f3f4f6; }
        #logo-cloud-wrapper .fa-slack { color: #e0a0e5; }
        #logo-cloud-wrapper .fa-google-drive { color: #8ab4f8; }
        #logo-cloud-wrapper .fa-confluence { color: #a6c5e4; }
        #logo-cloud-wrapper .fa-cloud { color: #76b8e4; }
        #logo-cloud-wrapper .fa-server { color: #f7be8f; }
        #logo-cloud-wrapper .fa-bell { color: #74d699; }
        #logo-cloud-wrapper .fa-cubes { color: #ff8a7d; }
        #logo-cloud-wrapper #splunk { top: 10%; left: 20%; }
        #logo-cloud-wrapper #pagerduty { top: 40%; left: 5%; }
        #logo-cloud-wrapper #azure { top: 70%; left: 25%; }
        #logo-cloud-wrapper #databricks { top: 5%; left: 50%; }
        #logo-cloud-wrapper #confluence { top: 25%; left: 75%; }
        #logo-cloud-wrapper #google-drive { top: 55%; left: 55%; }
        #logo-cloud-wrapper #github { top: -5%; left: 85%; }
        #logo-cloud-wrapper #slack { top: 65%; left: 80%; }
        #logo-cloud-wrapper .fade-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 70%;
            height: 100%;
            background: linear-gradient(to right, #111827 10%, rgba(17, 24, 39, 0) 70%);
            pointer-events: none;
            z-index: 2;
        }

        /* --- 5. Carousel Styles (Using original styles) --- */
        #carousel {
            overflow: hidden;
            height: 150px;
            position: relative;
            border-radius: 0.5rem;
        }
        .carousel-list {
            list-style: none;
            padding: 0;
            margin: 0;
            width: 100%;
            transition: transform 0.8s ease-in-out;
        }
        .carousel-list li {
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding-left: 0.5rem;
            padding-right: 0.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #9ca3af;
            opacity: 0.7;
            font-size: 0.875rem;
            font-weight: 400;
            transition: color 0.5s ease, opacity 0.5s ease, font-weight 0.5s ease, font-size 0.5s ease;
        }
        .carousel-list li.highlighted {
            color: #f9fafb;
            font-weight: 600;
            opacity: 1;
            font-size: 1rem;
        }

        /* --- 6. Responsive Styles (Using original styles) --- */
        @media (max-width: 767.98px) {
            .main-container {
                flex-direction: column;
                align-items: center;
            }
            .sources-section, .outcomes-section {
                width: 90%;
                margin-bottom: 2rem;
            }
            .sources-section { order: 1; }
            .outcomes-section { order: 2; }
            .diagram-section {
                width: 100%;
                height: auto;
                padding: 1rem 0;
                min-height: auto;
                order: 3;
            }
            #logo-cloud-wrapper .logo-container {
                width: 90vw;
                height: 45vh;
                margin: 1rem auto;
            }
            #logo-cloud-wrapper .logo-card {
                width: 3.5rem;
                height: 3.5rem;
                padding: 0.75rem;
                animation: none;
            }
             #logo-cloud-wrapper .logo-card:hover {
                 transform: scale(1.1);
             }
            #logo-cloud-wrapper .logo-icon {
                font-size: 1.5rem;
            }
            #logo-cloud-wrapper #splunk { top: 10%; left: 15%; }
            #logo-cloud-wrapper #pagerduty { top: 40%; left: 5%; }
            #logo-cloud-wrapper #azure { top: 70%; left: 20%; }
            #logo-cloud-wrapper #databricks { top: 5%; left: 50%; }
            #logo-cloud-wrapper #confluence { top: 25%; left: 75%; }
            #logo-cloud-wrapper #google-drive { top: 50%; left: 55%; }
            #logo-cloud-wrapper #github { top: 10%; left: 80%; }
            #logo-cloud-wrapper #slack { top: 70%; left: 75%; }
            #logo-cloud-wrapper .fade-overlay {
                width: 45%;
                 background: linear-gradient(to right, #111827 10%, rgba(17, 24, 39, 0) 50%);
            }
            .diagram-content {
                height: auto;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }
            .node-container {
                position: relative;
                top: auto; left: auto; margin: 0;
                display: flex;
                flex-direction: column;
                align-items: center;
                width: 100%;
            }
             .node-image {
                  margin-bottom: 0.5rem;
                  width: 70px;
                  height: 70px;
                  animation: none; /* Disable base glow on mobile */
                  box-shadow: none; /* Remove base shadow on mobile */
             }
             /* Remove active state glow on mobile for simplicity */
             .node-active .node-image {
                 box-shadow: none;
                 transform: scale(1.05); /* Can keep a subtle scale */
             }
             .node-label {
                 color: #d1d5db;
                 margin-top: 0;
             }
             .node-active .node-label {
                 color: #f0f0f0; /* Slightly brighter label */
             }
            .line { display: none; } /* Hide lines on mobile */
            .popup {
                position: relative;
                display: block;
                opacity: 1; pointer-events: auto;
                bottom: auto; top: 5px; left: auto;
                transform: none;
                width: 90%; max-width: 300px;
                margin-top: 0.5rem;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
                 background-color: #1f2937;
                 border: 1px solid #374151;
            }
            .popup::after, .popup-bottom::after {
                 border-color: transparent transparent #1f2937 transparent;
            }
             .popup-bottom::after {
                 border-color: transparent transparent #1f2937 transparent;
             }
            .node-container:hover .popup {}
            .node-container:hover .node-image { transform: none; }
            #carousel { height: 150px; }
            .carousel-list li { height: 50px; }
        }

    </style>
</head>

<body class="p-4 md:p-8">

    <h1 class="text-2xl md:text-3xl font-bold text-center text-gray-100 mb-2">See Everything. Fix Everything</h1>
    <p class="text-center text-base text-gray-300 max-w-3xl mx-auto my-4 px-4">
        Managing complex IT operations can be challenging. What if you could eliminate manual troubleshooting, proactively identify issues, and ensure reliable system performance? Our comprehensive AIOps solutions empower you to do exactly that. Unleashing proactive operational intelligence with our advanced AI-driven incident management solution. We automate log analysis, anomaly detection, and incident resolution to drastically reduce downtime and optimize IT efficiency.
    </p>

    <div
        class="main-container flex flex-col md:flex-row md:justify-center items-start md:items-center gap-8 min-h-[60vh] w-full max-w-7xl mx-auto">

        <div class="sources-section w-full md:w-1/3 order-1 p-0 md:p-4 rounded-lg">
            <div id="logo-cloud-wrapper">
                <div class="logo-container">
                    <div class="fade-overlay"></div>
                    <div id="splunk" class="logo-card" aria-label="Splunk Logo"><i class="fas fa-server logo-icon" title="Splunk"></i></div>
                    <div id="pagerduty" class="logo-card" aria-label="PagerDuty Logo"><i class="fas fa-bell logo-icon" title="PagerDuty"></i></div>
                    <div id="azure" class="logo-card" aria-label="Azure Cloud Logo"><i class="fas fa-cloud logo-icon" title="Azure Cloud"></i></div>
                    <div id="databricks" class="logo-card" aria-label="Databricks Logo"><i class="fas fa-cubes logo-icon" title="Databricks"></i></div>
                    <div id="confluence" class="logo-card" aria-label="Confluence Logo"><i class="fab fa-confluence logo-icon" title="Confluence"></i></div>
                    <div id="google-drive" class="logo-card" aria-label="Google Drive Logo"><i class="fab fa-google-drive logo-icon" title="Google Drive"></i></div>
                    <div id="github" class="logo-card" aria-label="GitHub Logo"><i class="fab fa-github logo-icon" title="GitHub"></i></div>
                    <div id="slack" class="logo-card" aria-label="Slack Logo"><i class="fab fa-slack logo-icon" title="Slack"></i></div>
                </div>
            </div>
        </div>

        <div
            class="diagram-section w-full md:w-1/3 order-3 md:order-2 flex justify-center items-center relative min-h-[400px] md:min-h-[300px]">
            <div class="diagram-content relative w-full h-full">
                <div class="line line-horizontal" style="top: 50%; left: 0%; width: calc(50% - 120px);"></div>
                <div class="line line-horizontal" style="top: 50%; left: calc(0% + 130px); width: calc(150% - (50% + 40px));"></div>
                <div class="line line-vertical" style="left: 75%; top: calc(50% - 100px); height: 100px;"></div>
                <div class="line line-vertical" style="left: calc(90% - 90px); top: 50%; height: 70px;"></div>
                <div class="line line-vertical" style="left: calc(75% + 90px); top: 50%; height: 70px;"></div>

                <div id="node-atlas" class="node-container" style="top: calc(50% - 40px); left: calc(30% - 40px); width: 90px; height: auto;"> <img class="node-image"
                          src="https://imgur.com/0ya7Fj7.png"
                          onerror="this.onerror=null; this.src='https://placehold.co/80x80/60a5fa/FFFFFF?text=Atlas';"
                          alt="Atlas Icon (Shield)"
                          title="Atlas: Ingests & Enriches Data">
                     <div class="node-label">Atlas</div> <div class="popup">
                        <h3 class="font-semibold mb-1">Atlas</h3>
                        <p>Streamline the preparation and transformation of diverse, unstructured data. ATLAS automates data crawling, extraction, cleansing, and structuring, ensuring high-quality, AI-ready datasets.</p>
                        <a href="#" class="text-blue-500 hover:underline mt-2 inline-block">Learn More</a>
                    </div>
                </div>
                 <div id="node-merlin" class="node-container" style="top: calc(50% - 160px); left: calc(75% - 45px); width: 90px; height: auto;"> <img class="node-image"
                         src="https://imgur.com/QyrDXOG.png"
                         onerror="this.onerror=null; this.src='https://placehold.co/80x80/88a0f2/FFFFFF?text=Wizard';"
                         alt="Merlin Icon (Wizard)" title="Merlin: Correlation & Pattern Analysis">
                     <div class="node-label">Merlin</div> <div class="popup">
                        <h3 class="font-semibold mb-1">Merlin</h3>
                        <p>Enhance the efficiency of on-call teams. Automatically correlate current issues with historical incident resolutions, integrated knowledge bases, and real-time actionable insights.</p>
                         <a href="#" class="text-blue-500 hover:underline mt-2 inline-block">Learn More</a>
                    </div>
                </div>
                 <div id="node-argus" class="node-container" style="top: calc(50% + 70px); left: calc(85% - 130px); width: 80px; height: auto;"> <img class="node-image"
                          src="https://imgur.com/xMcN4Yw.png"
                          onerror="this.onerror=null; this.src='https://placehold.co/80x80/f2d088/FFFFFF?text=Owl';"
                          alt="Argus Icon (Owl)" title="Argus: Triaging & Root Cause Analysis">
                     <div class="node-label">Argus</div> <div class="popup popup-bottom">
                        <h3 class="font-semibold mb-1">Argus</h3>
                        <p>Transform log management to proactive monitoring. Uses advanced ML for real-time anomaly detection, incident forecasting, and automated root cause analysis.</p>
                         <a href="#" class="text-blue-500 hover:underline mt-2 inline-block">Learn More</a>
                    </div>
                </div>
                 <div id="node-hephaestus" class="node-container" style="top: calc(50% + 70px); left: calc(75% + 50px); width: 90px; height: auto;"> <img class="node-image"
                          src="https://imgur.com/7QbiKPT.png"
                          onerror="this.onerror=null; this.src='https://placehold.co/80x80/f2a088/FFFFFF?text=Dwarf';"
                          alt="Hephaestus Icon (Dwarf/Builder)" title="Hephaestus: Recommended Actions & Updates">
                    <div class="node-label">Hephaestus</div> <div class="popup popup-bottom">
                        <h3 class="font-semibold mb-1">Hephaestus</h3>
                        <p>Optimize performance and cost efficiency in data environments. Proactively identifies bottlenecks and provides actionable recommendations.</p>
                        <a href="#" class="text-blue-500 hover:underline mt-2 inline-block">Learn More</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="outcomes-section w-full md:w-1/3 order-2 md:order-3 p-4 rounded-lg md:ml-3">
             <div id="carousel" class="relative">
                <ul class="carousel-list">
                    </ul>
            </div>
        </div>

    </div>

    <script>
        // --- Carousel Logic (Using original script) ---
        document.addEventListener('DOMContentLoaded', () => {
            const phrases = ["Faster Incident Resolution", "Enhanced Operational Efficiency", "Improved System Reliability", "Reduced Operational Costs", "Context-aware incident correlation", "Real-time on-call guidance", "Predictive log analytics", "Anomaly detection", "Root cause analysis"];
            const rotationInterval = 3500; const transitionDuration = 800; const itemHeight = 50;
            const carouselContainer = document.getElementById('carousel'); if (!carouselContainer) return;
            const list = carouselContainer.querySelector('.carousel-list'); if (!list) return;
            let currentIndex = 0; const totalOriginalItems = phrases.length; let isResetting = false; let intervalId = null;
            if (totalOriginalItems === 0) return;
            const allPhrases = [...phrases, ...phrases, ...phrases]; list.innerHTML = '';
            allPhrases.forEach(phrase => { const li = document.createElement('li'); li.textContent = phrase; list.appendChild(li); });
            const allItems = list.querySelectorAll('li'); const totalListItems = allItems.length;
            function updateHighlight() { const middleItemIndex = (currentIndex + 1) % totalListItems; allItems.forEach((item, index) => { item.classList.toggle('highlighted', index % totalOriginalItems === middleItemIndex % totalOriginalItems); }); }
            function rotateCarousel() { if (isResetting) return; currentIndex++; list.style.transition = `transform ${transitionDuration}ms ease-in-out`; list.style.transform = `translateY(-${currentIndex * itemHeight}px)`; updateHighlight(); }
            function stopCarousel() { if (intervalId) { clearInterval(intervalId); intervalId = null; } }
            function startCarousel() { stopCarousel(); intervalId = setInterval(rotateCarousel, rotationInterval); }
            list.addEventListener('transitionend', () => { if (isResetting) return; if (currentIndex >= totalOriginalItems * 2) { isResetting = true; list.style.transition = 'none'; currentIndex %= totalOriginalItems; currentIndex += totalOriginalItems; list.style.transform = `translateY(-${currentIndex * itemHeight}px)`; setTimeout(() => { list.style.transition = `transform ${transitionDuration}ms ease-in-out`; isResetting = false; }, 20); } });
            if (totalOriginalItems > 0) { currentIndex = totalOriginalItems; list.style.transition = 'none'; list.style.transform = `translateY(-${currentIndex * itemHeight}px)`; list.offsetHeight; list.style.transition = `transform ${transitionDuration}ms ease-in-out`; }
            updateHighlight();
            if (totalOriginalItems >= 3) { startCarousel(); carouselContainer.addEventListener('mouseenter', stopCarousel); carouselContainer.addEventListener('mouseleave', startCarousel); }
        });

         // --- Popup Position Logic (Using original script) ---
         document.querySelectorAll('.node-container').forEach(container => {
             container.addEventListener('mouseenter', () => {
                 if (window.innerWidth < 768) return;
                 const nodeImage = container.querySelector('.node-image');
                 const popup = container.querySelector('.popup');
                 if (!nodeImage || !popup) return;
                 const nodeRect = nodeImage.getBoundingClientRect();
                 const popupHeight = popup.offsetHeight;
                 if (nodeRect.top < popupHeight + 20 && !popup.classList.contains('popup-bottom')) {
                      popup.classList.add('popup-bottom');
                 } else if (nodeRect.top >= popupHeight + 20 && popup.classList.contains('popup-bottom')) {
                      popup.classList.remove('popup-bottom');
                 }
             });
         });

         // --- Node Activation Logic ---
         document.addEventListener('DOMContentLoaded', () => {
            const atlasNode = document.getElementById('node-atlas');
            const merlinNode = document.getElementById('node-merlin');
            const argusNode = document.getElementById('node-argus');
            const hephaestusNode = document.getElementById('node-hephaestus');

            const nodes = [atlasNode, merlinNode, argusNode, hephaestusNode]; // Simple array for now
            const sequence = [
                { nodes: [atlasNode], duration: 1500 },         // Atlas active for 1.5s
                { nodes: [merlinNode, argusNode], duration: 1500 }, // Merlin & Argus active for 1.5s
                { nodes: [hephaestusNode], duration: 1500 },    // Hephaestus active for 1.5s
            ];
            let currentStep = -1; // Start before the first step
            let activeTimeout = null;

            function activateStep(stepIndex) {
                // Deactivate previous nodes
                if (currentStep !== -1) {
                    sequence[currentStep].nodes.forEach(node => {
                        if (node) node.classList.remove('node-active');
                    });
                }

                // Activate current nodes
                currentStep = stepIndex;
                if (currentStep !== -1) {
                    const step = sequence[currentStep];
                    step.nodes.forEach(node => {
                        if (node) node.classList.add('node-active');
                    });

                    // Schedule the next step
                    activeTimeout = setTimeout(() => {
                        const nextStep = (currentStep + 1) % sequence.length;
                        activateStep(nextStep);
                    }, step.duration);
                } else {
                     // Initial call or reset - start sequence after a short delay
                     activeTimeout = setTimeout(() => activateStep(0), 500);
                }
            }

             // Start the sequence only on larger screens
             if (window.innerWidth >= 768) {
                 activateStep(-1); // Start the activation loop
             }

             // Optional: Re-evaluate on resize
             window.addEventListener('resize', () => {
                 if (window.innerWidth < 768) {
                     // If screen becomes small, clear timeouts and remove active classes
                     clearTimeout(activeTimeout);
                     nodes.forEach(node => node?.classList.remove('node-active'));
                     currentStep = -1; // Reset sequence
                 } else if (currentStep === -1) {
                     // If screen becomes large and sequence isn't running, start it
                     activateStep(-1);
                 }
             });
         });

    </script>

</body>
</html>
